<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Coupon Admin â€” Sign Up</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="auth-body">
  <div class="auth-container">
    <div class="auth-card">
      <div class="auth-header">
        <div class="logo">CP</div>
        <div>
          <div class="title">Create account</div>
          <p class="subtitle">Invite teammates to manage coupons faster</p>
        </div>
      </div>

      <div id="signupMessage"></div>

      <form id="signupForm" class="auth-form">
        <div class="field">
          <label>Full name</label>
          <input id="signupName" type="text" placeholder="Jane Doe" required />
        </div>
        <div class="field">
          <label>Work email</label>
          <input id="signupEmail" type="email" placeholder="you@company.com" required />
        </div>
        <div class="field">
          <label>Password</label>
          <input id="signupPassword" type="password" placeholder="Create a strong password" minlength="6" required />
        </div>
        <button class="btn btn-primary full-width" type="submit">Create account</button>
      </form>

      <p class="note" style="text-align:center;margin-top:16px;">
        Already have an account? <a href="index.html">Login</a>
      </p>
    </div>
  </div>

  <script src="auth.js"></script>
  <script>
    const signupForm = document.getElementById('signupForm');
    const signupMessage = document.getElementById('signupMessage');

    function showSignupMessage(type, text) {
      signupMessage.innerHTML = '';
      const div = document.createElement('div');
      div.className = `message ${type === 'error' ? 'error' : 'success'}`;
      div.textContent = text;
      signupMessage.appendChild(div);
    }

    signupForm.addEventListener('submit', (event) => {
      event.preventDefault();
      signupMessage.innerHTML = '';

      try {
        window.authStore.signup({
          name: document.getElementById('signupName').value,
          email: document.getElementById('signupEmail').value,
          password: document.getElementById('signupPassword').value
        });

        showSignupMessage('success', 'Account created! Redirecting to login...');
        setTimeout(() => { window.location.href = 'index.html'; }, 1200);
      } catch (err) {
        showSignupMessage('error', err.message || 'Unable to sign up');
      }
    });
  </script>

  <!-- Vercel Speed Insights -->
  <script>
    window.si = window.si || function () { (window.siq = window.siq || []).push(arguments); };
  </script>
  <script defer src="/_vercel/speed-insights/script.js"></script>
</body>
</html>


